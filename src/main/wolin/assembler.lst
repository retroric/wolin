ca65 V2.18 - Git 31daa70
Main file   : assembler.s
Current file: assembler.s

000000r 1               ; 1: setup HEADER
000000r 1               
000000r 1               
000000r 1               ;**********************************************
000000r 1               ;*
000000r 1               ;* BASIC header
000000r 1               ;*
000000r 1               ;* compile with:
000000r 1               ;* cl65.exe -o assembler.prg -WaU -t c64 -C c64-asm.cfg -g -Ln assembler.lbl -l assembler.lst assembler.s
000000r 1               ;*
000000r 1               ;**********************************************
000000r 1                           .org 2049
000801  1                           .export LOADADDR = *
000801  1  0C 08        Bas10:      .word BasEnd
000803  1  0A 00                    .word 10
000805  1  9E                       .byte 158 ; sys
000806  1  20 32 30 36              .byte " 2064"
00080A  1  34           
00080B  1  00                       .byte 0
00080C  1  00 00        BasEnd:     .word 0
00080E  1  00 00                    .word 0
000810  1                           ;
000810  1               
000810  1               
000810  1               ; 2: label __wolin_pl_qus_wolin_plot = 65520
000810  1               
000810  1               __wolin_pl_qus_wolin_plot = 65520
000810  1               
000810  1               ; 3: label __wolin_pl_qus_wolin_chrout = 65490
000810  1               
000810  1               __wolin_pl_qus_wolin_chrout = 65490
000810  1               
000810  1               ; 4: setup SPF = 251[ubyte] , 40959[uword]
000810  1               
000810  1               
000810  1               ; prepare function stack
000810  1               __wolin_spf := 251 ; function stack ptr
000810  1               __wolin_spf_hi := 251+1 ; function stack ptr
000810  1               
000810  1               __wolin_spf_top := 40959 ; function stack top
000810  1               __wolin_spf_top_hi := 40959+1 ; function stack top
000810  1  A9 FF            lda #<__wolin_spf_top ; set function stack top
000812  1  85 FB            sta __wolin_spf
000814  1  A9 9F            lda #>__wolin_spf_top
000816  1  85 FC            sta __wolin_spf+1
000818  1               
000818  1               ; 5: setup SP = 114[ubyte]
000818  1               
000818  1               
000818  1               ; prepare program stack
000818  1               __wolin_sp_top := 114 ; program stack top
000818  1               __wolin_sp_top_hi := 114+1 ; program stack top
000818  1  A2 72            ldx #__wolin_sp_top ; set program stack top
00081A  1               
00081A  1               ; 6: setup HEAP = 176[ubyte]
00081A  1               
00081A  1               
00081A  1               __wolin_this_ptr := 176
00081A  1               __wolin_this_ptr_hi := 176+1
00081A  1               
00081A  1               
00081A  1               ; 7: goto __wolin_pl_qus_wolin_main[uword]
00081A  1               
00081A  1  4C 59 08         jmp __wolin_pl_qus_wolin_main
00081D  1               
00081D  1               ; 8: import __wolin_pl_qus_wolin_extPrint
00081D  1               
00081D  1               
00081D  1                   .import __wolin_pl_qus_wolin_extPrint
00081D  1               
00081D  1               ; 9: function __wolin_pl_qus_wolin_scopeTest
00081D  1               
00081D  1               __wolin_pl_qus_wolin_scopeTest:
00081D  1               
00081D  1               ; 10: alloc SP<__wolin_reg2> , #1
00081D  1               
00081D  1  CA               dex
00081E  1               
00081E  1               ; 12: label __wolin_lab_loop_start_1
00081E  1               
00081E  1               __wolin_lab_loop_start_1:
00081E  1               
00081E  1               ; 14: bne SP(0)<__wolin_reg2>[bool] = #1[bool] , __wolin_lab_loop_end_1<label_po_if>[uword]
00081E  1               
00081E  1               
00081E  1  B5 00            lda 0,x
000820  1  F0 2A            beq __wolin_lab_loop_end_1
000822  1               
000822  1               ; 16: alloc SP<__wolin_reg11> , #1
000822  1               
000822  1  CA               dex
000823  1               
000823  1               ; 18: label __wolin_lab_loop_start_2
000823  1               
000823  1               __wolin_lab_loop_start_2:
000823  1               
000823  1               ; 20: bne SP(0)<__wolin_reg11>[bool] = #1[bool] , __wolin_lab_loop_end_2<label_po_if>[uword]
000823  1               
000823  1               
000823  1  B5 00            lda 0,x
000825  1  F0 0C            beq __wolin_lab_loop_end_2
000827  1               
000827  1               ; 21: add SPF(4)<pl.qus.wolin.scopeTest.x>[ubyte] = SPF(4)<pl.qus.wolin.scopeTest.x>[ubyte] , #1[ubyte]
000827  1               
000827  1               
000827  1  18               clc
000828  1  A0 04            ldy #4
00082A  1  A9 01            lda #1
00082C  1  71 FB            adc (__wolin_spf),y
00082E  1  91 FB            sta (__wolin_spf),y
000830  1               
000830  1               
000830  1               ; 22: goto __wolin_lab_loop_start_2[uword]
000830  1               
000830  1  4C 23 08         jmp __wolin_lab_loop_start_2
000833  1               
000833  1               ; 24: label __wolin_lab_loop_end_2
000833  1               
000833  1               __wolin_lab_loop_end_2:
000833  1               
000833  1               ; 25: free SP<__wolin_reg11> , #1
000833  1               
000833  1  E8               inx
000834  1               
000834  1               ; 26: goto __wolin_lab_if_end_1[uword]
000834  1               
000834  1  4C 49 08         jmp __wolin_lab_if_end_1
000837  1               
000837  1               ; 27: label __wolin_lab_else_branch_1
000837  1               
000837  1               __wolin_lab_else_branch_1:
000837  1               
000837  1               ; 28: alloc SP<__wolin_reg18> , #1
000837  1               
000837  1  CA               dex
000838  1               
000838  1               ; 30: label __wolin_lab_loop_start_3
000838  1               
000838  1               __wolin_lab_loop_start_3:
000838  1               
000838  1               ; 32: bne SP(0)<__wolin_reg18>[bool] = #1[bool] , __wolin_lab_loop_end_3<label_po_if>[uword]
000838  1               
000838  1               
000838  1  B5 00            lda 0,x
00083A  1  F0 0C            beq __wolin_lab_loop_end_3
00083C  1               
00083C  1               ; 33: add SPF(3)<pl.qus.wolin.scopeTest.y>[ubyte] = SPF(3)<pl.qus.wolin.scopeTest.y>[ubyte] , #1[ubyte]
00083C  1               
00083C  1               
00083C  1  18               clc
00083D  1  A0 03            ldy #3
00083F  1  A9 01            lda #1
000841  1  71 FB            adc (__wolin_spf),y
000843  1  91 FB            sta (__wolin_spf),y
000845  1               
000845  1               
000845  1               ; 34: goto __wolin_lab_loop_start_3[uword]
000845  1               
000845  1  4C 38 08         jmp __wolin_lab_loop_start_3
000848  1               
000848  1               ; 36: label __wolin_lab_loop_end_3
000848  1               
000848  1               __wolin_lab_loop_end_3:
000848  1               
000848  1               ; 37: free SP<__wolin_reg18> , #1
000848  1               
000848  1  E8               inx
000849  1               
000849  1               ; 38: label __wolin_lab_if_end_1
000849  1               
000849  1               __wolin_lab_if_end_1:
000849  1               
000849  1               ; 39: goto __wolin_lab_loop_start_1[uword]
000849  1               
000849  1  4C 1E 08         jmp __wolin_lab_loop_start_1
00084C  1               
00084C  1               ; 41: label __wolin_lab_loop_end_1
00084C  1               
00084C  1               __wolin_lab_loop_end_1:
00084C  1               
00084C  1               ; 42: free SP<__wolin_reg2> , #1
00084C  1               
00084C  1  E8               inx
00084D  1               
00084D  1               ; 43: free SPF<__wolin_pl_qus_wolin_scopeTest> , #5
00084D  1               
00084D  1               
00084D  1  18               clc
00084E  1  A5 FB            lda __wolin_spf
000850  1  69 05            adc #5
000852  1  85 FB            sta __wolin_spf
000854  1  90 02            bcc :+
000856  1  E6 FC            inc __wolin_spf+1
000858  1               :
000858  1               
000858  1               ; 44: endfunction
000858  1               
000858  1  60               rts
000859  1               
000859  1               ; 45: function __wolin_pl_qus_wolin_main
000859  1               
000859  1               __wolin_pl_qus_wolin_main:
000859  1               
000859  1               ; 46: alloc SPF<__wolin_pl_qus_wolin_extPrint> , #2
000859  1               
000859  1               
000859  1  38               sec
00085A  1  A5 FB            lda __wolin_spf
00085C  1  E9 02            sbc #2
00085E  1  85 FB            sta __wolin_spf
000860  1  B0 02            bcs :+
000862  1  C6 FC            dec __wolin_spf+1
000864  1               :
000864  1               
000864  1               ; 47: let SPF(0)<pl.qus.wolin.extPrint.what>[ubyte*] = #__wolin_lab_stringConst_0[uword]
000864  1               
000864  1               
000864  1  A9 73            lda #<__wolin_lab_stringConst_0
000866  1  A0 00            ldy #0
000868  1  91 FB            sta (__wolin_spf),y
00086A  1  A9 08            lda #>__wolin_lab_stringConst_0
00086C  1  C8               iny
00086D  1  91 FB            sta (__wolin_spf),y
00086F  1               
00086F  1               ; 48: call __wolin_pl_qus_wolin_extPrint[uword]
00086F  1               
00086F  1  20 rr rr         jsr __wolin_pl_qus_wolin_extPrint
000872  1               
000872  1               ; 49: endfunction
000872  1               
000872  1  60               rts
000873  1               
000873  1               ; 50: string __wolin_lab_stringConst_0[uword] = $"dupa"
000873  1               
000873  1               
000873  1               __wolin_lab_stringConst_0:
000873  1  44 55 50 41      .asciiz "dupa"
000877  1  00           
000878  1               
000878  1               
000878  1               
